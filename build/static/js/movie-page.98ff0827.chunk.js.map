{"version":3,"sources":["pages/MoviePage.js","pages/movieDetailPage.module.css"],"names":["AsyncCast","lazy","AsyncReviews","MoviePage","state","movie","prevLocation","handleGoback","history","props","push","articleAPI","this","match","params","id","then","data","setState","genres","className","css","buttonWrapper","goBackButton","type","onClick","movieWrapper","posterWrapper","src","poster_path","alt","movieInfoWrapper","movieTitle","title","movieScore","vote_average","movieOverview","movieOverviewText","overview","movieGenres","map","genre","movieGenresList","key","name","additionalInfo","additionalInfoList","to","pathname","fallback","path","component","Component","module","exports"],"mappings":"4OASMA,EAAYC,gBAAK,kBACrB,gCAGIC,EAAeD,gBAAK,kBACxB,iCAGIE,E,4MAcJC,MAAQ,CACNC,MAAO,GACPC,aAAc,I,EAchBC,aAAe,WAAO,IACZD,EAAiB,EAAKF,MAAtBE,aAEAE,EAAY,EAAKC,MAAjBD,QACJF,EAEFE,EAAQE,KAAKJ,GAGbE,EAAQE,KAAK,M,kEApBI,IAAD,OAElBC,IAA4BC,KAAKH,MAAMI,MAAMC,OAAOC,IAAIC,MAAK,YAAe,IAAZC,EAAW,EAAXA,KAC9D,EAAKC,SAAS,CAAEb,MAAOY,S,+BAqBjB,IAAD,EACwCL,KAAKR,MAA5CC,EADD,EACCA,MADD,IACQA,MADR,gBACiC,GADjC,GACiBc,cADjB,MAC0B,GAD1B,EAEP,OACE,oCACE,yBAAKC,UAAWC,IAAIC,eAClB,4BACEF,UAAWC,IAAIE,aACfC,KAAK,SACLC,QAASb,KAAKL,cAHhB,YASF,yBAAKa,UAAWC,IAAIK,cAClB,yBAAKN,UAAWC,IAAIM,eAClB,yBACEC,IAAG,0CAAqCvB,EAAMwB,aAC9CC,IAAI,kBAIR,yBAAKV,UAAWC,IAAIU,kBAClB,wBAAIX,UAAWC,IAAIW,YAAa3B,EAAM4B,OACtC,uBAAGb,UAAWC,IAAIa,YAAlB,eACoC,GAArB7B,EAAM8B,aADrB,KAGA,uBAAGf,UAAWC,IAAIe,eAAlB,aACA,uBAAGhB,UAAWC,IAAIgB,mBAAoBhC,EAAMiC,UAC5C,uBAAGlB,UAAWC,IAAIkB,aAAlB,WACA,2BACGpB,EAAOqB,KAAI,SAACC,GAAD,OACV,0BAAMrB,UAAWC,IAAIqB,gBAAiBC,IAAKF,EAAM1B,IAC9C0B,EAAMG,KAAM,WAMvB,6BACE,uBAAGxB,UAAWC,IAAIwB,gBAAlB,2BACA,wBAAIzB,UAAWC,IAAIyB,oBACjB,4BACE,kBAAC,IAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAa3C,EAAMU,GAAnB,SACRX,MAAO,CAAEW,GAAIV,EAAMU,MAHvB,SASF,4BACE,kBAAC,IAAD,CACEgC,GAAI,CACFC,SAAS,WAAD,OAAa3C,EAAMU,GAAnB,YACRX,MAAO,CAAEW,GAAIV,EAAMU,MAHvB,aAUJ,kBAAC,WAAD,CAAUkC,SAAU,0CAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAI,kBAAa7C,EAAMU,GAAnB,SAA8BoC,UAAWnD,IACpD,kBAAC,IAAD,CACEkD,KAAI,kBAAa7C,EAAMU,GAAnB,YACJoC,UAAWjD,Y,GA/GHkD,aAyHTjD,a,mBCzIfkD,EAAOC,QAAU,CAAC,aAAe,sCAAsC,aAAe,sCAAsC,kBAAoB,2CAA2C,cAAgB,uCAAuC,iBAAmB,0CAA0C,WAAa,oCAAoC,WAAa,oCAAoC,cAAgB,uCAAuC,YAAc,qCAAqC,eAAiB,wCAAwC,mBAAqB","file":"static/js/movie-page.98ff0827.chunk.js","sourcesContent":["import React, { Component, lazy, Suspense } from \"react\";\n/* eslint-disable  */\n// import PropTypes from \"prop-types\";\nimport { Route, NavLink, Switch } from \"react-router-dom\";\nimport * as articleAPI from \"../services/articles-api\";\n// import Cast from \"../components/Cast/Cast\";\n// import Reviews from \"../components/Reviews/Reviews\";\nimport css from \"./movieDetailPage.module.css\";\n\nconst AsyncCast = lazy(() =>\n  import(\"../components/Cast/Cast\" /* webpackChunkName: \"cast\" */)\n);\n\nconst AsyncReviews = lazy(() =>\n  import(\"../components/Reviews/Reviews\" /* webpackChunkName: \"reviews\" */)\n);\n\nclass MoviePage extends Component {\n  // static propTypes = {\n  //   history: PropTypes.shape({\n  //     goBack: PropTypes.func.isRequired,\n  //     replace: PropTypes.func.isRequired,\n  //   }).isRequired,\n  //   match: PropTypes.shape({\n  //     params: PropTypes.shape({\n  //       id: PropTypes.string,\n  //     }),\n  //   }).isRequired,\n  // };\n\n  // eslint-disable-next-line react/state-in-constructor\n  state = {\n    movie: {},\n    prevLocation: \"\",\n  };\n\n  componentDidMount() {\n    // eslint-disable-next-line react/destructuring-assignment\n    articleAPI.fetchMovieWithId(this.props.match.params.id).then(({ data }) => {\n      this.setState({ movie: data });\n    });\n    // this.setState({\n    //   pathname: this.props.location.state.from,\n    //   search: this.props.location.state.search,\n    // });\n  }\n\n  handleGoback = () => {\n    const { prevLocation } = this.state;\n    // eslint-disable-next-line react/prop-types\n    const { history } = this.props;\n    if (prevLocation) {\n      // eslint-disable-next-line react/prop-types\n      history.push(prevLocation);\n    } else {\n      // eslint-disable-next-line react/prop-types\n      history.push(\"/\");\n    }\n  };\n\n  render() {\n    const { movie, movie: { genres = [] } = [] } = this.state;\n    return (\n      <>\n        <div className={css.buttonWrapper}>\n          <button\n            className={css.goBackButton}\n            type=\"button\"\n            onClick={this.handleGoback}\n          >\n            Go back\n          </button>\n        </div>\n\n        <div className={css.movieWrapper}>\n          <div className={css.posterWrapper}>\n            <img\n              src={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\n              alt=\"movie poster\"\n            />\n          </div>\n\n          <div className={css.movieInfoWrapper}>\n            <h2 className={css.movieTitle}>{movie.title}</h2>\n            <p className={css.movieScore}>\n              User score: {movie.vote_average * 10}%\n            </p>\n            <p className={css.movieOverview}>Overview:</p>\n            <p className={css.movieOverviewText}>{movie.overview}</p>\n            <p className={css.movieGenres}>Genres:</p>\n            <p>\n              {genres.map((genre) => (\n                <span className={css.movieGenresList} key={genre.id}>\n                  {genre.name}{\" \"}\n                </span>\n              ))}\n            </p>\n          </div>\n        </div>\n        <div>\n          <p className={css.additionalInfo}>Additional information:</p>\n          <ul className={css.additionalInfoList}>\n            <li>\n              <NavLink\n                to={{\n                  pathname: `/movies/${movie.id}/cast`,\n                  state: { id: movie.id },\n                }}\n              >\n                Cast\n              </NavLink>\n            </li>\n            <li>\n              <NavLink\n                to={{\n                  pathname: `/movies/${movie.id}/reviews`,\n                  state: { id: movie.id },\n                }}\n              >\n                Reviews\n              </NavLink>\n            </li>\n          </ul>\n          <Suspense fallback={<p>Loading...</p>}>\n            <Switch>\n              <Route path={`/movies/${movie.id}/cast`} component={AsyncCast} />\n              <Route\n                path={`/movies/${movie.id}/reviews`}\n                component={AsyncReviews}\n              />\n            </Switch>\n          </Suspense>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default MoviePage;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"goBackButton\":\"movieDetailPage_goBackButton__3e_RJ\",\"movieWrapper\":\"movieDetailPage_movieWrapper__fE2oV\",\"movieOverviewText\":\"movieDetailPage_movieOverviewText__194hj\",\"posterWrapper\":\"movieDetailPage_posterWrapper__2za-w\",\"movieInfoWrapper\":\"movieDetailPage_movieInfoWrapper__3ppsG\",\"movieTitle\":\"movieDetailPage_movieTitle__rVjjQ\",\"movieScore\":\"movieDetailPage_movieScore__dSgsy\",\"movieOverview\":\"movieDetailPage_movieOverview__2XZ1t\",\"movieGenres\":\"movieDetailPage_movieGenres__CFLy3\",\"additionalInfo\":\"movieDetailPage_additionalInfo__2bKBb\",\"additionalInfoList\":\"movieDetailPage_additionalInfoList__2paDt\"};"],"sourceRoot":""}