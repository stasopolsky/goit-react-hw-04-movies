{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/front-end/goit-react-hw-04-movies/src/pages/MoviePage.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Route, Link } from \"react-router-dom\";\nimport * as articleAPI from \"../services/articles-api\";\nimport Cast from \"../components/Cast/Cast\";\nimport Reviews from \"../components/Reviews/Reviews\";\nimport css from \"./movieDetailPage.module.css\";\n\nclass MoviePage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      movie: {},\n      prevLocation: \"\",\n      search: \"\"\n    };\n\n    this.handleGoback = () => {\n      const {\n        prevLocation\n      } = this.state;\n      const {\n        history\n      } = this.props;\n\n      if (prevLocation) {\n        history.push(prevLocation);\n      } else {\n        history.push(\"/\");\n      }\n    };\n  }\n\n  componentDidMount() {\n    articleAPI.fetchMovieWithId(this.props.match.params.id).then(({\n      data\n    }) => {\n      this.setState({\n        movie: data\n      });\n    }); // this.setState({\n    //   pathname: this.props.location.state.from,\n    //   search: this.props.location.state.search,\n    // });\n  }\n\n  render() {\n    const {\n      movie,\n      movie: {\n        genres = []\n      } = []\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: css.buttonWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: css.goBackButton,\n      type: \"button\",\n      onClick: this.handleGoback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }, \"Go back\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: css.movieWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: css.posterWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: `https://image.tmdb.org/t/p/w500/${movie.poster_path}`,\n      alt: \"movie poster\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: css.movieInfoWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: css.movieTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, movie.title), /*#__PURE__*/React.createElement(\"p\", {\n      className: css.movieScore,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, \"User score: \", movie.vote_average * 10, \"%\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: css.movieOverview,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, \"Overview:\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: css.movieOverviewText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, movie.overview), /*#__PURE__*/React.createElement(\"p\", {\n      className: css.movieGenres,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, \"Genres:\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, genres.map(genre => /*#__PURE__*/React.createElement(\"span\", {\n      className: css.movieGenresList,\n      key: genre.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, genre.name, \" \"))))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: css.additionalInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, \"Additional information:\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: css.additionalInfoList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: `/movies/${movie.id}/cast`,\n        state: {\n          id: movie.id\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    }, \"Cast\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: `/movies/${movie.id}/reviews`,\n        state: {\n          id: movie.id\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }, \"Reviews\"))), /*#__PURE__*/React.createElement(Route, {\n      path: `/movies/${movie.id}/cast`,\n      component: Cast,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `/movies/${movie.id}/reviews`,\n      component: Reviews,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nMoviePage.propTypes = {\n  history: PropTypes.shape({\n    goBack: PropTypes.func.isRequired,\n    replace: PropTypes.func.isRequired\n  }).isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string\n    })\n  }).isRequired\n};\nexport default MoviePage;","map":{"version":3,"sources":["/Users/apple/Documents/front-end/goit-react-hw-04-movies/src/pages/MoviePage.js"],"names":["React","Component","PropTypes","Route","Link","articleAPI","Cast","Reviews","css","MoviePage","state","movie","prevLocation","search","handleGoback","history","props","push","componentDidMount","fetchMovieWithId","match","params","id","then","data","setState","render","genres","buttonWrapper","goBackButton","movieWrapper","posterWrapper","poster_path","movieInfoWrapper","movieTitle","title","movieScore","vote_average","movieOverview","movieOverviewText","overview","movieGenres","map","genre","movieGenresList","name","additionalInfo","additionalInfoList","pathname","propTypes","shape","goBack","func","isRequired","replace","string"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Route, Link } from \"react-router-dom\";\nimport * as articleAPI from \"../services/articles-api\";\nimport Cast from \"../components/Cast/Cast\";\nimport Reviews from \"../components/Reviews/Reviews\";\nimport css from \"./movieDetailPage.module.css\";\n\nclass MoviePage extends Component {\n  static propTypes = {\n    history: PropTypes.shape({\n      goBack: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired,\n    }).isRequired,\n    match: PropTypes.shape({\n      params: PropTypes.shape({\n        id: PropTypes.string,\n      }),\n    }).isRequired,\n  };\n\n  state = {\n    movie: {},\n    prevLocation: \"\",\n    search: \"\",\n  };\n\n  componentDidMount() {\n    articleAPI.fetchMovieWithId(this.props.match.params.id).then(({ data }) => {\n      this.setState({ movie: data });\n    });\n    // this.setState({\n    //   pathname: this.props.location.state.from,\n    //   search: this.props.location.state.search,\n    // });\n  }\n\n  handleGoback = () => {\n    const { prevLocation } = this.state;\n    const { history } = this.props;\n    if (prevLocation) {\n      history.push(prevLocation);\n    } else {\n      history.push(\"/\");\n    }\n  };\n\n  render() {\n    const { movie, movie: { genres = [] } = [] } = this.state;\n    return (\n      <>\n        <div className={css.buttonWrapper}>\n          <button\n            className={css.goBackButton}\n            type=\"button\"\n            onClick={this.handleGoback}\n          >\n            Go back\n          </button>\n        </div>\n\n        <div className={css.movieWrapper}>\n          <div className={css.posterWrapper}>\n            <img\n              src={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\n              alt=\"movie poster\"\n            />\n          </div>\n\n          <div className={css.movieInfoWrapper}>\n            <h2 className={css.movieTitle}>{movie.title}</h2>\n            <p className={css.movieScore}>\n              User score: {movie.vote_average * 10}%\n            </p>\n            <p className={css.movieOverview}>Overview:</p>\n            <p className={css.movieOverviewText}>{movie.overview}</p>\n            <p className={css.movieGenres}>Genres:</p>\n            <p>\n              {genres.map((genre) => (\n                <span className={css.movieGenresList} key={genre.id}>\n                  {genre.name}{\" \"}\n                </span>\n              ))}\n            </p>\n          </div>\n        </div>\n        <div>\n          <p className={css.additionalInfo}>Additional information:</p>\n          <ul className={css.additionalInfoList}>\n            <li>\n              <Link\n                to={{\n                  pathname: `/movies/${movie.id}/cast`,\n                  state: { id: movie.id },\n                }}\n              >\n                Cast\n              </Link>\n            </li>\n            <li>\n              <Link\n                to={{\n                  pathname: `/movies/${movie.id}/reviews`,\n                  state: { id: movie.id },\n                }}\n              >\n                Reviews\n              </Link>\n            </li>\n          </ul>\n          <Route path={`/movies/${movie.id}/cast`} component={Cast} />\n          <Route path={`/movies/${movie.id}/reviews`} component={Reviews} />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default MoviePage;\n"]},"metadata":{},"sourceType":"module"}