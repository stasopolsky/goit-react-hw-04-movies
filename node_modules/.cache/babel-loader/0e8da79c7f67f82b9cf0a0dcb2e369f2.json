{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/front-end/goit-react-hw-04-movies/src/pages/Movies.js\";\nimport React, { Component } from \"react\";\nimport queryString from \"query-string\";\nimport PropTypes from \"prop-types\";\nimport Searchbar from \"../components/Searchbar\";\nimport * as articleAPI from \"../services/articles-api\";\nexport default class Movies extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      input: \"\",\n      data: [] // notFound: false,\n\n    };\n\n    this.handleOnSubmit = e => {\n      // e.preventDefault();\n      this.setState({\n        data: [],\n        query: e\n      });\n    };\n  }\n\n  componentDidMount() {\n    const {\n      location\n    } = this.props;\n    const {\n      query\n    } = queryString.parse(location.search);\n\n    if (query) {\n      articleAPI.getMoviesQuery(query).then(({\n        data\n      }) => this.setState({\n        data\n      })); // .catch((error) => this.apiError(error));\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      location\n    } = this.props;\n    const {\n      query\n    } = queryString.parse(location.search);\n\n    if (prevProps.location.search !== location.search) {\n      articleAPI.getMoviesQuery(query).then(({\n        data\n      }) => this.setState({\n        data: data.results\n      })); // .catch((error) => this.apiError(error));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Searchbar, {\n      onSubmit: this.handleOnSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\nMovies.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired,\n  location: PropTypes.shape({\n    search: PropTypes.string.isRequired\n  }).isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string\n    })\n  }).isRequired\n};","map":{"version":3,"sources":["/Users/apple/Documents/front-end/goit-react-hw-04-movies/src/pages/Movies.js"],"names":["React","Component","queryString","PropTypes","Searchbar","articleAPI","Movies","state","input","data","handleOnSubmit","e","setState","query","componentDidMount","location","props","parse","search","getMoviesQuery","then","componentDidUpdate","prevProps","results","render","propTypes","history","shape","push","func","isRequired","string","match","params","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAO,KAAKC,UAAZ,MAA4B,0BAA5B;AAEA,eAAe,MAAMC,MAAN,SAAqBL,SAArB,CAA+B;AAAA;AAAA;AAAA,SAe5CM,KAf4C,GAepC;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,IAAI,EAAE,EAFA,CAGN;;AAHM,KAfoC;;AAAA,SA4C5CC,cA5C4C,GA4C1BC,CAAD,IAAO;AACtB;AACA,WAAKC,QAAL,CAAc;AAAEH,QAAAA,IAAI,EAAE,EAAR;AAAYI,QAAAA,KAAK,EAAEF;AAAnB,OAAd;AACD,KA/C2C;AAAA;;AAqB5CG,EAAAA,iBAAiB,GAAG;AAClB,UAAM;AAAEC,MAAAA;AAAF,QAAe,KAAKC,KAA1B;AACA,UAAM;AAAEH,MAAAA;AAAF,QAAYX,WAAW,CAACe,KAAZ,CAAkBF,QAAQ,CAACG,MAA3B,CAAlB;;AACA,QAAIL,KAAJ,EAAW;AACTR,MAAAA,UAAU,CACPc,cADH,CACkBN,KADlB,EAEGO,IAFH,CAEQ,CAAC;AAAEX,QAAAA;AAAF,OAAD,KAAc,KAAKG,QAAL,CAAc;AAAEH,QAAAA;AAAF,OAAd,CAFtB,EADS,CAIT;AACD;AACF;;AAEDY,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,UAAM;AAAEP,MAAAA;AAAF,QAAe,KAAKC,KAA1B;AACA,UAAM;AAAEH,MAAAA;AAAF,QAAYX,WAAW,CAACe,KAAZ,CAAkBF,QAAQ,CAACG,MAA3B,CAAlB;;AAEA,QAAII,SAAS,CAACP,QAAV,CAAmBG,MAAnB,KAA8BH,QAAQ,CAACG,MAA3C,EAAmD;AACjDb,MAAAA,UAAU,CACPc,cADH,CACkBN,KADlB,EAEGO,IAFH,CAEQ,CAAC;AAAEX,QAAAA;AAAF,OAAD,KAAc,KAAKG,QAAL,CAAc;AAAEH,QAAAA,IAAI,EAAEA,IAAI,CAACc;AAAb,OAAd,CAFtB,EADiD,CAIjD;AACD;AACF;;AAODC,EAAAA,MAAM,GAAG;AACP,wBACE,uDACE,oBAAC,SAAD;AAAW,MAAA,QAAQ,EAAE,KAAKd,cAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAKD;;AAvD2C;AAAzBJ,M,CACZmB,S,GAAY;AACjBC,EAAAA,OAAO,EAAEvB,SAAS,CAACwB,KAAV,CAAgB;AACvBC,IAAAA,IAAI,EAAEzB,SAAS,CAAC0B,IAAV,CAAeC;AADE,GAAhB,EAENA,UAHc;AAIjBf,EAAAA,QAAQ,EAAEZ,SAAS,CAACwB,KAAV,CAAgB;AACxBT,IAAAA,MAAM,EAAEf,SAAS,CAAC4B,MAAV,CAAiBD;AADD,GAAhB,EAEPA,UANc;AAOjBE,EAAAA,KAAK,EAAE7B,SAAS,CAACwB,KAAV,CAAgB;AACrBM,IAAAA,MAAM,EAAE9B,SAAS,CAACwB,KAAV,CAAgB;AACtBO,MAAAA,EAAE,EAAE/B,SAAS,CAAC4B;AADQ,KAAhB;AADa,GAAhB,EAIJD;AAXc,C","sourcesContent":["import React, { Component } from \"react\";\nimport queryString from \"query-string\";\nimport PropTypes from \"prop-types\";\nimport Searchbar from \"../components/Searchbar\";\nimport * as articleAPI from \"../services/articles-api\";\n\nexport default class Movies extends Component {\n  static propTypes = {\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n    }).isRequired,\n    location: PropTypes.shape({\n      search: PropTypes.string.isRequired,\n    }).isRequired,\n    match: PropTypes.shape({\n      params: PropTypes.shape({\n        id: PropTypes.string,\n      }),\n    }).isRequired,\n  };\n\n  state = {\n    input: \"\",\n    data: [],\n    // notFound: false,\n  };\n\n  componentDidMount() {\n    const { location } = this.props;\n    const { query } = queryString.parse(location.search);\n    if (query) {\n      articleAPI\n        .getMoviesQuery(query)\n        .then(({ data }) => this.setState({ data }));\n      // .catch((error) => this.apiError(error));\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { location } = this.props;\n    const { query } = queryString.parse(location.search);\n\n    if (prevProps.location.search !== location.search) {\n      articleAPI\n        .getMoviesQuery(query)\n        .then(({ data }) => this.setState({ data: data.results }));\n      // .catch((error) => this.apiError(error));\n    }\n  }\n\n  handleOnSubmit = (e) => {\n    // e.preventDefault();\n    this.setState({ data: [], query: e });\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.handleOnSubmit} />\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}