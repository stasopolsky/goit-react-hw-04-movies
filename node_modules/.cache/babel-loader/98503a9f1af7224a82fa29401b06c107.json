{"ast":null,"code":"import _classCallCheck from\"/Users/apple/Documents/front-end/goit-react-hw-04-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/apple/Documents/front-end/goit-react-hw-04-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/apple/Documents/front-end/goit-react-hw-04-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/apple/Documents/front-end/goit-react-hw-04-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,lazy,Suspense}from\"react\";/* eslint-disable  */ // import PropTypes from \"prop-types\";\nimport{Route,NavLink,Switch}from\"react-router-dom\";import*as articleAPI from\"../services/articles-api\";// import Cast from \"../components/Cast/Cast\";\n// import Reviews from \"../components/Reviews/Reviews\";\nimport css from\"./movieDetailPage.module.css\";var AsyncCast=lazy(function(){return import(\"../components/Cast/Cast\"/* webpackChunkName: \"cast\" */);});var AsyncReviews=lazy(function(){return import(\"../components/Reviews/Reviews\"/* webpackChunkName: \"reviews\" */);});var MoviePage=/*#__PURE__*/function(_Component){_inherits(MoviePage,_Component);var _super=_createSuper(MoviePage);function MoviePage(){var _this;_classCallCheck(this,MoviePage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={movie:{},prevLocation:\"\"};_this.handleGoback=function(){var prevLocation=_this.state.prevLocation;// eslint-disable-next-line react/prop-types\nvar history=_this.props.history;if(prevLocation){// eslint-disable-next-line react/prop-types\nhistory.push(prevLocation);}else{// eslint-disable-next-line react/prop-types\nhistory.push(\"/\");}};return _this;}_createClass(MoviePage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// eslint-disable-next-line react/destructuring-assignment\narticleAPI.fetchMovieWithId(this.props.match.params.id).then(function(_ref){var data=_ref.data;_this2.setState({movie:data});});// this.setState({\n//   pathname: this.props.location.state.from,\n//   search: this.props.location.state.search,\n// });\n}},{key:\"render\",value:function render(){var _this$state=this.state,movie=_this$state.movie,_this$state$movie=_this$state.movie;_this$state$movie=_this$state$movie===void 0?[]:_this$state$movie;var _this$state$movie$gen=_this$state$movie.genres,genres=_this$state$movie$gen===void 0?[]:_this$state$movie$gen;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:css.buttonWrapper},/*#__PURE__*/React.createElement(\"button\",{className:css.goBackButton,type:\"button\",onClick:this.handleGoback},\"Go back\")),/*#__PURE__*/React.createElement(\"div\",{className:css.movieWrapper},/*#__PURE__*/React.createElement(\"div\",{className:css.posterWrapper},/*#__PURE__*/React.createElement(\"img\",{src:\"https://image.tmdb.org/t/p/w500/\".concat(movie.poster_path),alt:\"movie poster\"})),/*#__PURE__*/React.createElement(\"div\",{className:css.movieInfoWrapper},/*#__PURE__*/React.createElement(\"h2\",{className:css.movieTitle},movie.title),/*#__PURE__*/React.createElement(\"p\",{className:css.movieScore},\"User score: \",movie.vote_average*10,\"%\"),/*#__PURE__*/React.createElement(\"p\",{className:css.movieOverview},\"Overview:\"),/*#__PURE__*/React.createElement(\"p\",{className:css.movieOverviewText},movie.overview),/*#__PURE__*/React.createElement(\"p\",{className:css.movieGenres},\"Genres:\"),/*#__PURE__*/React.createElement(\"p\",null,genres.map(function(genre){return/*#__PURE__*/React.createElement(\"span\",{className:css.movieGenresList,key:genre.id},genre.name,\" \");})))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:css.additionalInfo},\"Additional information:\"),/*#__PURE__*/React.createElement(\"ul\",{className:css.additionalInfoList},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:{pathname:\"/movies/\".concat(movie.id,\"/cast\"),state:{id:movie.id}}},\"Cast\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:{pathname:\"/movies/\".concat(movie.id,\"/reviews\"),state:{id:movie.id}}},\"Reviews\"))),/*#__PURE__*/React.createElement(Suspense,{fallback:/*#__PURE__*/React.createElement(\"p\",null,\"Loading...\")},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/movies/\".concat(movie.id,\"/cast\"),component:AsyncCast}),/*#__PURE__*/React.createElement(Route,{path:\"/movies/\".concat(movie.id,\"/reviews\"),component:AsyncReviews})))));}}]);return MoviePage;}(Component);export default MoviePage;","map":{"version":3,"sources":["/Users/apple/Documents/front-end/goit-react-hw-04-movies/src/pages/MoviePage.js"],"names":["React","Component","lazy","Suspense","Route","NavLink","Switch","articleAPI","css","AsyncCast","AsyncReviews","MoviePage","state","movie","prevLocation","handleGoback","history","props","push","fetchMovieWithId","match","params","id","then","data","setState","genres","buttonWrapper","goBackButton","movieWrapper","posterWrapper","poster_path","movieInfoWrapper","movieTitle","title","movieScore","vote_average","movieOverview","movieOverviewText","overview","movieGenres","map","genre","movieGenresList","name","additionalInfo","additionalInfoList","pathname"],"mappings":"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","sourcesContent":["import React, { Component, lazy, Suspense } from \"react\";\n/* eslint-disable  */\n// import PropTypes from \"prop-types\";\nimport { Route, NavLink, Switch } from \"react-router-dom\";\nimport * as articleAPI from \"../services/articles-api\";\n// import Cast from \"../components/Cast/Cast\";\n// import Reviews from \"../components/Reviews/Reviews\";\nimport css from \"./movieDetailPage.module.css\";\n\nconst AsyncCast = lazy(() =>\n  import(\"../components/Cast/Cast\" /* webpackChunkName: \"cast\" */)\n);\n\nconst AsyncReviews = lazy(() =>\n  import(\"../components/Reviews/Reviews\" /* webpackChunkName: \"reviews\" */)\n);\n\nclass MoviePage extends Component {\n  // static propTypes = {\n  //   history: PropTypes.shape({\n  //     goBack: PropTypes.func.isRequired,\n  //     replace: PropTypes.func.isRequired,\n  //   }).isRequired,\n  //   match: PropTypes.shape({\n  //     params: PropTypes.shape({\n  //       id: PropTypes.string,\n  //     }),\n  //   }).isRequired,\n  // };\n\n  // eslint-disable-next-line react/state-in-constructor\n  state = {\n    movie: {},\n    prevLocation: \"\",\n  };\n\n  componentDidMount() {\n    // eslint-disable-next-line react/destructuring-assignment\n    articleAPI.fetchMovieWithId(this.props.match.params.id).then(({ data }) => {\n      this.setState({ movie: data });\n    });\n    // this.setState({\n    //   pathname: this.props.location.state.from,\n    //   search: this.props.location.state.search,\n    // });\n  }\n\n  handleGoback = () => {\n    const { prevLocation } = this.state;\n    // eslint-disable-next-line react/prop-types\n    const { history } = this.props;\n    if (prevLocation) {\n      // eslint-disable-next-line react/prop-types\n      history.push(prevLocation);\n    } else {\n      // eslint-disable-next-line react/prop-types\n      history.push(\"/\");\n    }\n  };\n\n  render() {\n    const { movie, movie: { genres = [] } = [] } = this.state;\n    return (\n      <>\n        <div className={css.buttonWrapper}>\n          <button\n            className={css.goBackButton}\n            type=\"button\"\n            onClick={this.handleGoback}\n          >\n            Go back\n          </button>\n        </div>\n\n        <div className={css.movieWrapper}>\n          <div className={css.posterWrapper}>\n            <img\n              src={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\n              alt=\"movie poster\"\n            />\n          </div>\n\n          <div className={css.movieInfoWrapper}>\n            <h2 className={css.movieTitle}>{movie.title}</h2>\n            <p className={css.movieScore}>\n              User score: {movie.vote_average * 10}%\n            </p>\n            <p className={css.movieOverview}>Overview:</p>\n            <p className={css.movieOverviewText}>{movie.overview}</p>\n            <p className={css.movieGenres}>Genres:</p>\n            <p>\n              {genres.map((genre) => (\n                <span className={css.movieGenresList} key={genre.id}>\n                  {genre.name}{\" \"}\n                </span>\n              ))}\n            </p>\n          </div>\n        </div>\n        <div>\n          <p className={css.additionalInfo}>Additional information:</p>\n          <ul className={css.additionalInfoList}>\n            <li>\n              <NavLink\n                to={{\n                  pathname: `/movies/${movie.id}/cast`,\n                  state: { id: movie.id },\n                }}\n              >\n                Cast\n              </NavLink>\n            </li>\n            <li>\n              <NavLink\n                to={{\n                  pathname: `/movies/${movie.id}/reviews`,\n                  state: { id: movie.id },\n                }}\n              >\n                Reviews\n              </NavLink>\n            </li>\n          </ul>\n          <Suspense fallback={<p>Loading...</p>}>\n            <Switch>\n              <Route path={`/movies/${movie.id}/cast`} component={AsyncCast} />\n              <Route\n                path={`/movies/${movie.id}/reviews`}\n                component={AsyncReviews}\n              />\n            </Switch>\n          </Suspense>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default MoviePage;\n"]},"metadata":{},"sourceType":"module"}