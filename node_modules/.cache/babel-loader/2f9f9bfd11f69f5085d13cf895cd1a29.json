{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/front-end/goit-react-hw-04-movies/src/pages/Movies.js\";\nimport React, { Component } from \"react\";\nimport Searchbar from \"../components/Searchbar\";\nimport * as articleAPI from \"../services/articles-api\";\nexport default class Movies extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      allData: [],\n      page: 0,\n      query: \"\"\n    };\n\n    this.getDataByParams = ({\n      query\n    }) => {\n      const {\n        allData\n      } = this.state;\n      return articleAPI.getMoviesQuery({\n        query\n      }).then(({\n        data\n      }) => this.setState({\n        allData: data.results\n      }));\n    };\n\n    this.handleOnSubmit = e => {\n      // e.preventDefault();\n      this.setState({\n        allData: [],\n        query: e\n      });\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      query\n    } = this.state;\n\n    if (query !== \"\") {\n      this.getDataByParams({\n        query\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Searchbar, {\n      onSubmit: this.handleOnSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/apple/Documents/front-end/goit-react-hw-04-movies/src/pages/Movies.js"],"names":["React","Component","Searchbar","articleAPI","Movies","state","allData","page","query","getDataByParams","getMoviesQuery","then","data","setState","results","handleOnSubmit","e","componentDidUpdate","prevProps","prevState","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAO,KAAKC,UAAZ,MAA4B,0BAA5B;AAEA,eAAe,MAAMC,MAAN,SAAqBH,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC5CI,KAD4C,GACpC;AAAEC,MAAAA,OAAO,EAAE,EAAX;AAAeC,MAAAA,IAAI,EAAE,CAArB;AAAwBC,MAAAA,KAAK,EAAE;AAA/B,KADoC;;AAAA,SAU5CC,eAV4C,GAU1B,CAAC;AAAED,MAAAA;AAAF,KAAD,KAAe;AAC/B,YAAM;AAAEF,QAAAA;AAAF,UAAc,KAAKD,KAAzB;AAEA,aAAOF,UAAU,CACdO,cADI,CACW;AAAEF,QAAAA;AAAF,OADX,EAEJG,IAFI,CAEC,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAAc,KAAKC,QAAL,CAAc;AAAEP,QAAAA,OAAO,EAAEM,IAAI,CAACE;AAAhB,OAAd,CAFf,CAAP;AAGD,KAhB2C;;AAAA,SAkB5CC,cAlB4C,GAkB1BC,CAAD,IAAO;AACtB;AACA,WAAKH,QAAL,CAAc;AAAEP,QAAAA,OAAO,EAAE,EAAX;AAAeE,QAAAA,KAAK,EAAEQ;AAAtB,OAAd;AACD,KArB2C;AAAA;;AAG5CC,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACvC,UAAM;AAAEX,MAAAA;AAAF,QAAY,KAAKH,KAAvB;;AACA,QAAIG,KAAK,KAAK,EAAd,EAAkB;AAChB,WAAKC,eAAL,CAAqB;AAAED,QAAAA;AAAF,OAArB;AACD;AACF;;AAeDY,EAAAA,MAAM,GAAG;AACP,wBACE,uDACE,oBAAC,SAAD;AAAW,MAAA,QAAQ,EAAE,KAAKL,cAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAKD;;AA7B2C","sourcesContent":["import React, { Component } from \"react\";\nimport Searchbar from \"../components/Searchbar\";\nimport * as articleAPI from \"../services/articles-api\";\n\nexport default class Movies extends Component {\n  state = { allData: [], page: 0, query: \"\" };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query } = this.state;\n    if (query !== \"\") {\n      this.getDataByParams({ query });\n    }\n  }\n\n  getDataByParams = ({ query }) => {\n    const { allData } = this.state;\n\n    return articleAPI\n      .getMoviesQuery({ query })\n      .then(({ data }) => this.setState({ allData: data.results }));\n  };\n\n  handleOnSubmit = (e) => {\n    // e.preventDefault();\n    this.setState({ allData: [], query: e });\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.handleOnSubmit} />\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}