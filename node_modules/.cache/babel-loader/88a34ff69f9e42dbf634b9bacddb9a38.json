{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/front-end/goit-react-hw-04-movies/src/pages/Movies.js\";\nimport React, { Component } from \"react\";\nimport queryString from \"query-string\"; // import PropTypes from \"prop-types\";\n\nimport css from \"./MoviesPage.module.css\";\nimport SearchBar from \"../components/SearchBar\";\nimport * as articleAPI from \"../services/articles-api\";\nexport default class Movies extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: \"\",\n      movies: [] // notFound: false,\n\n    };\n\n    this.onChange = value => {\n      this.setState({\n        query: value\n      });\n    };\n\n    this.onSearch = query => {\n      this.props.history.push({ ...this.props.location,\n        search: `query=${query}`\n      });\n      articleAPI.getMoviesQuery(query).then(({\n        data\n      }) => {\n        this.setState({\n          movies: data.results\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    const parsed = queryString.parse(this.props.location.search).query;\n\n    if (parsed) {\n      if (parsed !== undefined) {\n        articleAPI.getTrendingMovies(parsed).then(({\n          data\n        }) => {\n          this.setState({\n            movies: data.results\n          });\n        });\n      }\n    }\n  }\n\n  render() {\n    const {\n      movies,\n      query\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: css.moviesWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      onSearch: this.onSearch,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      className: css.resultList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, movies.map(movie => /*#__PURE__*/React.createElement(\"li\", {\n      className: css.resultListItem,\n      key: movie.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: `/movies/${movie.id}`,\n        state: {\n          id: movie.id,\n          from: \"/movies\",\n          search: `query=${query}`\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 15\n      }\n    }, movie.title || movie.name)))));\n  }\n\n}","map":{"version":3,"sources":["/Users/apple/Documents/front-end/goit-react-hw-04-movies/src/pages/Movies.js"],"names":["React","Component","queryString","css","SearchBar","articleAPI","Movies","state","query","movies","onChange","value","setState","onSearch","props","history","push","location","search","getMoviesQuery","then","data","results","componentDidMount","parsed","parse","undefined","getTrendingMovies","render","moviesWrapper","resultList","map","movie","resultListItem","id","pathname","from","title","name"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport queryString from \"query-string\";\n// import PropTypes from \"prop-types\";\nimport css from \"./MoviesPage.module.css\";\nimport SearchBar from \"../components/SearchBar\";\nimport * as articleAPI from \"../services/articles-api\";\n\nexport default class Movies extends Component {\n  state = {\n    query: \"\",\n    movies: [],\n    // notFound: false,\n  };\n\n  componentDidMount() {\n    const parsed = queryString.parse(this.props.location.search).query;\n    if (parsed) {\n      if (parsed !== undefined) {\n        articleAPI.getTrendingMovies(parsed).then(({ data }) => {\n          this.setState({ movies: data.results });\n        });\n      }\n    }\n  }\n\n  onChange = (value) => {\n    this.setState({ query: value });\n  };\n\n  onSearch = (query) => {\n    this.props.history.push({\n      ...this.props.location,\n      search: `query=${query}`,\n    });\n    articleAPI.getMoviesQuery(query).then(({ data }) => {\n      this.setState({ movies: data.results });\n    });\n  };\n\n  render() {\n    const { movies, query } = this.state;\n    return (\n      <div className={css.moviesWrapper}>\n        <SearchBar onSearch={this.onSearch} onChange={this.onChange} />\n        <ul className={css.resultList}>\n          {movies.map((movie) => (\n            <li className={css.resultListItem} key={movie.id}>\n              <Link\n                to={{\n                  pathname: `/movies/${movie.id}`,\n                  state: {\n                    id: movie.id,\n                    from: \"/movies\",\n                    search: `query=${query}`,\n                  },\n                }}\n              >\n                {movie.title || movie.name}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}