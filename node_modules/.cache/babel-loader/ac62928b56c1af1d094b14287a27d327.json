{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/front-end/goit-react-hw-04-movies/src/pages/MoviePage.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Route, Link } from \"react-router-dom\";\nimport * as articleAPI from \"../services/articles-api\";\nimport Cast from \"../components/Cast/Cast\";\nimport Reviews from \"../components/Reviews/Reviews\";\nimport css from \"./movieDetailPage.module.css\";\n\nclass MoviePage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      movie: {},\n      pathname: \"\",\n      search: \"\"\n    };\n\n    this.handleGoback = () => {\n      const {\n        pathname,\n        search\n      } = this.state;\n      const {\n        history,\n        location\n      } = this.props;\n\n      if (location.state.from !== undefined) {\n        return history.push({\n          pathname,\n          search\n        });\n      }\n\n      return history.push(\"/\");\n    };\n  }\n\n  componentDidMount() {\n    articleAPI.fetchMovieWithId(this.props.match.params.id).then(({\n      data\n    }) => {\n      this.setState({\n        movie: data\n      });\n    }); // this.setState({\n    //   pathname: this.props.location.state.from,\n    //   search: this.props.location.state.search,\n    // });\n  }\n\n  render() {\n    const {\n      movie,\n      movie: {\n        genres = []\n      } = []\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: css.buttonWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: css.goBackButton,\n      type: \"button\",\n      onClick: this.handleGoback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }, \"Go back\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: css.movieWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: css.posterWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: `https://image.tmdb.org/t/p/w500/${movie.poster_path}`,\n      alt: \"movie poster\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: css.movieInfoWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: css.movieTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, movie.title), /*#__PURE__*/React.createElement(\"p\", {\n      className: css.movieScore,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, \"User score: \", movie.vote_average * 10, \"%\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: css.movieOverview,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, \"Overview:\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: css.movieOverviewText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, movie.overview), /*#__PURE__*/React.createElement(\"p\", {\n      className: css.movieGenres,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, \"Genres:\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, genres.map(genre => /*#__PURE__*/React.createElement(\"span\", {\n      className: css.movieGenresList,\n      key: genre.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, genre.name, \" \"))))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: css.additionalInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, \"Additional information:\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: css.additionalInfoList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: `/movies/${movie.id}/cast`,\n        state: {\n          id: movie.id\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }, \"Cast\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: `/movies/${movie.id}/reviews`,\n        state: {\n          id: movie.id\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, \"Reviews\"))), /*#__PURE__*/React.createElement(Route, {\n      path: `/movies/${movie.id}/cast`,\n      component: Cast,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `/movies/${movie.id}/reviews`,\n      component: Reviews,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nMoviePage.propTypes = {\n  history: PropTypes.shape({\n    goBack: PropTypes.func.isRequired,\n    replace: PropTypes.func.isRequired\n  }).isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string\n    })\n  }).isRequired\n};\nexport default MoviePage;","map":{"version":3,"sources":["/Users/apple/Documents/front-end/goit-react-hw-04-movies/src/pages/MoviePage.js"],"names":["React","Component","PropTypes","Route","Link","articleAPI","Cast","Reviews","css","MoviePage","state","movie","pathname","search","handleGoback","history","location","props","from","undefined","push","componentDidMount","fetchMovieWithId","match","params","id","then","data","setState","render","genres","buttonWrapper","goBackButton","movieWrapper","posterWrapper","poster_path","movieInfoWrapper","movieTitle","title","movieScore","vote_average","movieOverview","movieOverviewText","overview","movieGenres","map","genre","movieGenresList","name","additionalInfo","additionalInfoList","propTypes","shape","goBack","func","isRequired","replace","string"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Route, Link } from \"react-router-dom\";\nimport * as articleAPI from \"../services/articles-api\";\nimport Cast from \"../components/Cast/Cast\";\nimport Reviews from \"../components/Reviews/Reviews\";\nimport css from \"./movieDetailPage.module.css\";\n\nclass MoviePage extends Component {\n  static propTypes = {\n    history: PropTypes.shape({\n      goBack: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired,\n    }).isRequired,\n    match: PropTypes.shape({\n      params: PropTypes.shape({\n        id: PropTypes.string,\n      }),\n    }).isRequired,\n  };\n\n  state = {\n    movie: {},\n    pathname: \"\",\n    search: \"\",\n  };\n\n  componentDidMount() {\n    articleAPI.fetchMovieWithId(this.props.match.params.id).then(({ data }) => {\n      this.setState({ movie: data });\n    });\n    // this.setState({\n    //   pathname: this.props.location.state.from,\n    //   search: this.props.location.state.search,\n    // });\n  }\n\n  handleGoback = () => {\n    const { pathname, search } = this.state;\n    const { history, location } = this.props;\n    if (location.state.from !== undefined) {\n      return history.push({\n        pathname,\n        search,\n      });\n    }\n    return history.push(\"/\");\n  };\n\n  render() {\n    const { movie, movie: { genres = [] } = [] } = this.state;\n    return (\n      <>\n        <div className={css.buttonWrapper}>\n          <button\n            className={css.goBackButton}\n            type=\"button\"\n            onClick={this.handleGoback}\n          >\n            Go back\n          </button>\n        </div>\n\n        <div className={css.movieWrapper}>\n          <div className={css.posterWrapper}>\n            <img\n              src={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\n              alt=\"movie poster\"\n            />\n          </div>\n\n          <div className={css.movieInfoWrapper}>\n            <h2 className={css.movieTitle}>{movie.title}</h2>\n            <p className={css.movieScore}>\n              User score: {movie.vote_average * 10}%\n            </p>\n            <p className={css.movieOverview}>Overview:</p>\n            <p className={css.movieOverviewText}>{movie.overview}</p>\n            <p className={css.movieGenres}>Genres:</p>\n            <p>\n              {genres.map((genre) => (\n                <span className={css.movieGenresList} key={genre.id}>\n                  {genre.name}{\" \"}\n                </span>\n              ))}\n            </p>\n          </div>\n        </div>\n        <div>\n          <p className={css.additionalInfo}>Additional information:</p>\n          <ul className={css.additionalInfoList}>\n            <li>\n              <Link\n                to={{\n                  pathname: `/movies/${movie.id}/cast`,\n                  state: { id: movie.id },\n                }}\n              >\n                Cast\n              </Link>\n            </li>\n            <li>\n              <Link\n                to={{\n                  pathname: `/movies/${movie.id}/reviews`,\n                  state: { id: movie.id },\n                }}\n              >\n                Reviews\n              </Link>\n            </li>\n          </ul>\n          <Route path={`/movies/${movie.id}/cast`} component={Cast} />\n          <Route path={`/movies/${movie.id}/reviews`} component={Reviews} />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default MoviePage;\n"]},"metadata":{},"sourceType":"module"}